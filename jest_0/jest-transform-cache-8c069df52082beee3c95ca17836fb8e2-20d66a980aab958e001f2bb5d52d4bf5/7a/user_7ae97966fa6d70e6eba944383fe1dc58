0c5a6595866ec1fb557ea1aa8228a7fa
/* istanbul ignore next */'use strict';Object.defineProperty(exports, "__esModule", { value: true });var cov_w9qaszlde = function () {var path = '/app/src/api/routes/user.js',hash = '4052c0099d7fa2cfc5c805f7aaeae13e0dcdbc3d',global = new Function('return this')(),gcv = '__coverage__',coverageData = { path: '/app/src/api/routes/user.js', statementMap: { '0': { start: { line: 6, column: 20 }, end: { line: 6, column: 70 } }, '1': { start: { line: 7, column: 17 }, end: { line: 7, column: 65 } }, '2': { start: { line: 9, column: 15 }, end: { line: 9, column: 50 } }, '3': { start: { line: 11, column: 0 }, end: { line: 11, column: 82 } }, '4': { start: { line: 12, column: 0 }, end: { line: 12, column: 95 } }, '5': { start: { line: 13, column: 0 }, end: { line: 13, column: 47 } }, '6': { start: { line: 16, column: 0 }, end: { line: 16, column: 57 } } }, fnMap: {}, branchMap: {}, s: { '0': 0, '1': 0, '2': 0, '3': 0, '4': 0, '5': 0, '6': 0 }, f: {}, b: {}, _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c' },coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {return coverage[path];}coverageData.hash = hash;return coverage[path] = coverageData;}();var /* istanbul ignore next */_user = require('../controllers/user'); /* istanbul ignore next */var UserController = _interopRequireWildcard(_user);
var /* istanbul ignore next */_postValidation = require('../validation/postValidation');
var /* istanbul ignore next */_passport = require('passport'); /* istanbul ignore next */var _passport2 = _interopRequireDefault(_passport);
/* istanbul ignore next */require('../passport'); /* istanbul ignore next */function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function _interopRequireWildcard(obj) {if (obj && obj.__esModule) {return obj;} else {var newObj = {};if (obj != null) {for (var key in obj) {if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];}}newObj.default = obj;return newObj;}}

const checkSignIn = /* istanbul ignore next */(cov_w9qaszlde.s[0]++, /* istanbul ignore next */_passport2.default.authenticate('local', { session: false }));
const checkJWT = /* istanbul ignore next */(cov_w9qaszlde.s[1]++, /* istanbul ignore next */_passport2.default.authenticate('jwt', { session: false }));

const router = /* istanbul ignore next */(cov_w9qaszlde.s[2]++, require('express-promise-router')()); /* istanbul ignore next */cov_w9qaszlde.s[3]++;

router.post('/signup', /* istanbul ignore next */(0, _postValidation.validateBody)( /* istanbul ignore next */_postValidation.schemas.signUpSchema), UserController.signUp); /* istanbul ignore next */cov_w9qaszlde.s[4]++;
router.post('/signin', /* istanbul ignore next */(0, _postValidation.validateBody)( /* istanbul ignore next */_postValidation.schemas.signInSchema), checkSignIn, UserController.signIn); /* istanbul ignore next */cov_w9qaszlde.s[5]++;
router.delete('/', UserController.deleteUsers);

// hiddden
/* istanbul ignore next */cov_w9qaszlde.s[6]++;router.get('/profile', checkJWT, UserController.profile);
// router.get('/profile', UserController.profile);
/* istanbul ignore next */exports.default =
router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiVXNlckNvbnRyb2xsZXIiLCJjaGVja1NpZ25JbiIsImF1dGhlbnRpY2F0ZSIsInNlc3Npb24iLCJjaGVja0pXVCIsInJvdXRlciIsInJlcXVpcmUiLCJwb3N0Iiwic2lnblVwU2NoZW1hIiwic2lnblVwIiwic2lnbkluU2NoZW1hIiwic2lnbkluIiwiZGVsZXRlIiwiZGVsZXRlVXNlcnMiLCJnZXQiLCJwcm9maWxlIl0sIm1hcHBpbmdzIjoiMHJDQUFBLHFFLCtCQUFZQSxjO0FBQ1o7QUFDQSw4RDtBQUNBLGlEOztBQUVBLE1BQU1DLCtEQUFjLDZDQUFTQyxZQUFULENBQXNCLE9BQXRCLEVBQStCLEVBQUVDLFNBQVMsS0FBWCxFQUEvQixDQUFkLENBQU47QUFDQSxNQUFNQyw0REFBVyw2Q0FBU0YsWUFBVCxDQUFzQixLQUF0QixFQUE2QixFQUFFQyxTQUFTLEtBQVgsRUFBN0IsQ0FBWCxDQUFOOztBQUVBLE1BQU1FLDBEQUFTQyxRQUFRLHdCQUFSLEdBQVQsQ0FBTixDOztBQUVBRCxPQUFPRSxJQUFQLENBQVksU0FBWixFQUF1Qiw0REFBYSxtREFBUUMsWUFBckIsQ0FBdkIsRUFBMkRSLGVBQWVTLE1BQTFFLEU7QUFDQUosT0FBT0UsSUFBUCxDQUFZLFNBQVosRUFBdUIsNERBQWEsbURBQVFHLFlBQXJCLENBQXZCLEVBQTJEVCxXQUEzRCxFQUF3RUQsZUFBZVcsTUFBdkYsRTtBQUNBTixPQUFPTyxNQUFQLENBQWMsR0FBZCxFQUFtQlosZUFBZWEsV0FBbEM7O0FBRUE7K0NBQ0FSLE9BQU9TLEdBQVAsQ0FBVyxVQUFYLEVBQXVCVixRQUF2QixFQUFpQ0osZUFBZWUsT0FBaEQ7QUFDQTs7QUFFZVYsTSIsImZpbGUiOiJ1c2VyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVXNlckNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvdXNlcic7XG5pbXBvcnQgeyB2YWxpZGF0ZUJvZHksIHNjaGVtYXMgfSBmcm9tICcuLi92YWxpZGF0aW9uL3Bvc3RWYWxpZGF0aW9uJztcbmltcG9ydCBwYXNzcG9ydCBmcm9tICdwYXNzcG9ydCc7XG5pbXBvcnQgJy4uL3Bhc3Nwb3J0JztcblxuY29uc3QgY2hlY2tTaWduSW4gPSBwYXNzcG9ydC5hdXRoZW50aWNhdGUoJ2xvY2FsJywgeyBzZXNzaW9uOiBmYWxzZSB9KTtcbmNvbnN0IGNoZWNrSldUID0gcGFzc3BvcnQuYXV0aGVudGljYXRlKCdqd3QnLCB7IHNlc3Npb246IGZhbHNlIH0pO1xuXG5jb25zdCByb3V0ZXIgPSByZXF1aXJlKCdleHByZXNzLXByb21pc2Utcm91dGVyJykoKTtcblxucm91dGVyLnBvc3QoJy9zaWdudXAnLCB2YWxpZGF0ZUJvZHkoc2NoZW1hcy5zaWduVXBTY2hlbWEpLCBVc2VyQ29udHJvbGxlci5zaWduVXApO1xucm91dGVyLnBvc3QoJy9zaWduaW4nLCB2YWxpZGF0ZUJvZHkoc2NoZW1hcy5zaWduSW5TY2hlbWEpLCBjaGVja1NpZ25JbiwgVXNlckNvbnRyb2xsZXIuc2lnbkluKTtcbnJvdXRlci5kZWxldGUoJy8nLCBVc2VyQ29udHJvbGxlci5kZWxldGVVc2Vycyk7XG5cbi8vIGhpZGRkZW5cbnJvdXRlci5nZXQoJy9wcm9maWxlJywgY2hlY2tKV1QsIFVzZXJDb250cm9sbGVyLnByb2ZpbGUpO1xuLy8gcm91dGVyLmdldCgnL3Byb2ZpbGUnLCBVc2VyQ29udHJvbGxlci5wcm9maWxlKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIl19